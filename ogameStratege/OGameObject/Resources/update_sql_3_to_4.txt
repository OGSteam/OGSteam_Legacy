CREATE GENERATOR PLANETACTIVITY_ID;

CREATE TABLE PLANETACTIVITY(
	ID			INTEGER NOT NULL,
	"TIME"		TIMESTAMP NOT NULL,
	PLANET_ID	INTEGER NOT NULL,
	CDR			VARCHAR(50) NOT NULL,
	OGAMEACTIVITY VARCHAR(50) NOT NULL
);

ALTER TABLE PLANETACTIVITY ADD PRIMARY KEY (ID);

ALTER TABLE PLANETACTIVITY ADD CONSTRAINT FK_PLANETACTIVITY_1 FOREIGN KEY (PLANET_ID) REFERENCES PLANETS (ID);

CREATE INDEX PLANETACTIVITY_IDX1 ON PLANETACTIVITY (PLANET_ID);
SET TERM ^ ;

CREATE TRIGGER TRIGGER_PLANETACTIVITY_ID FOR PLANETACTIVITY
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF (NEW.ID IS NULL) THEN
    NEW.ID = GEN_ID("PLANETACTIVITY_ID",1);
END
^

SET TERM ; ^